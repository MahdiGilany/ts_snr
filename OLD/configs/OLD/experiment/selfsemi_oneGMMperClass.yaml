# @package _global_

defaults:
  - /driver: selfsemi_finetune


name: "self-semi-oneGMMperClass_UVA600_ssl-pretrain_all-centrs_lin-eval_balanced"
seed: 0
split_seed: 0

driver:
  config:
    trainer:
      num_sanity_val_steps: 0

    datamodule:
      patch_view_config: 
        needle_region_only: True
        prostate_region_only: False
      splits:
        cohort_specifier: [UVA600]
        test_as_val: True
      loader_config:
        batch_size: 32

    model:
      _target_: "src.lightning.lightning_modules.semi_supervised.GMM_based.SelfSemiOneGMMperClass"
      semi_sup: False
      temperature: 0.1
      beta_alpha: 0.75
      GMM_cycle: 2
      # backbone1:
      #   model_name: finetune_linear_all_centers
      #   seed: ${seed}
      #   split_seed: ${split_seed}

    logger:
      wandb:
        tags: ["MICCAI2023", "self_semi_oneGMMperClass"]
        entity: mahdigilany
        project: MICCAI2023